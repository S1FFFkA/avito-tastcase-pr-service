# โ๏ธ ะะฐัััะพะนะบะธ ะดะปั SLI: RPS=5, Response Time โค300ms, Success Rate โฅ99.9%

## ๐ฏ ะะฐัะธ ััะตะฑะพะฒะฐะฝะธั:
- **ะะฑััะผ ะดะฐะฝะฝัั**: 20 ะบะพะผะฐะฝะด, 200 ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- **RPS**: 5 ะทะฐะฟัะพัะพะฒ ะฒ ัะตะบัะฝะดั
- **SLI ะฒัะตะผะตะฝะธ ะพัะฒะตัะฐ**: โค 300 ะผั
- **SLI ััะฟะตัะฝะพััะธ**: โฅ 99.9%

---

## ๐ ะงัะพ ะฝัะถะฝะพ ะฒัััะฐะฒะธัั ะฒ Postman Runner:

### 1. ะัะบัะพะนัะต Runner:
```
ะะพะปะปะตะบัะธั โ "..." โ "Run collection"
```

### 2. ะฃััะฐะฝะพะฒะธัะต ะฟะฐัะฐะผะตััั:

| ะะฐัะฐะผะตัั | ะะฝะฐัะตะฝะธะต | ะะฑัััะฝะตะฝะธะต |
|----------|----------|------------|
| **Iterations** | `20` | ะกะพะทะดะฐัั 20 ะบะพะผะฐะฝะด (20 ะธัะตัะฐัะธะน) |
| **Delay** | `200` ms | ะะฐะดะตัะถะบะฐ ะผะตะถะดั ะทะฐะฟัะพัะฐะผะธ ะดะปั RPS=5 |
| **Delay between iterations** | `0` ms | ะะตะท ะทะฐะดะตัะถะบะธ ะผะตะถะดั ะธัะตัะฐัะธัะผะธ |

### 3. ะัะฑะตัะธัะต ะทะฐะฟัะพัั:
โ ะัะผะตัััะต **ะะกะ 6 ะทะฐะฟัะพัะพะฒ**:
- โ Create Team
- โ Get Team
- โ Create Pull Request
- โ Reassign Reviewer
- โ Merge Pull Request
- โ Get User Reviews

---

## ๐ ะงัะพ ะฑัะดะตั ัะพะทะดะฐะฝะพ:

- **20 ะบะพะผะฐะฝะด** (ะฟะพ ะพะดะฝะพะน ะฝะฐ ะธัะตัะฐัะธั)
- **200 ะฟะพะปัะทะพะฒะฐัะตะปะตะน** (20 ะบะพะผะฐะฝะด ร 10 ะฟะพะปัะทะพะฒะฐัะตะปะตะน)
- **20 PR** (ะฟะพ ะพะดะฝะพะผั ะฝะฐ ะธัะตัะฐัะธั)
- **ะะฑัะตะต ะบะพะปะธัะตััะฒะพ ะทะฐะฟัะพัะพะฒ**: 120 (20 ะธัะตัะฐัะธะน ร 6 ะทะฐะฟัะพัะพะฒ)

---

## โฑ๏ธ ะะฐัััั RPS:

**ะคะพัะผัะปะฐ**: RPS = ะะพะปะธัะตััะฒะพ ะทะฐะฟัะพัะพะฒ / ะัะตะผั

- **6 ะทะฐะฟัะพัะพะฒ** ะฒ ะพะดะฝะพะน ะธัะตัะฐัะธะธ
- **Delay = 200ms** ะผะตะถะดั ะทะฐะฟัะพัะฐะผะธ
- **ะัะตะผั ะฝะฐ ะธัะตัะฐัะธั**: 6 ร 200ms = 1200ms = 1.2 ัะตะบ
- **RPS**: 6 ะทะฐะฟัะพัะพะฒ / 1.2 ัะตะบ = **5 RPS** โ

---

## โ ะัะพะฒะตัะบะฐ SLI ะฟะพัะปะต ัะตััะฐ:

### 1. SLI ััะฟะตัะฝะพััะธ (โฅ 99.9%):

ะ ัะตะทัะปััะฐัะฐั Runner ะฝะฐะนะดะธัะต:
- **Total requests**: ะดะพะปะถะฝะพ ะฑััั 120
- **Failed requests**: ะดะพะปะถะฝะพ ะฑััั 0 ะธะปะธ 1 (ะผะฐะบัะธะผัะผ)

**ะคะพัะผัะปะฐ**: `(120 - Failed) / 120 ร 100% โฅ 99.9%`

**ะัะธะผะตั:**
- Total: 120
- Failed: 0
- Success rate: 100% โ (โฅ 99.9%)

### 2. SLI ะฒัะตะผะตะฝะธ ะพัะฒะตัะฐ (โค 300 ะผั):

ะะปั ะบะฐะถะดะพะณะพ ะทะฐะฟัะพัะฐ ะฟัะพะฒะตัััะต **"Average response time"**:
- Create Team: ะดะพะปะถะฝะพ ะฑััั โค 300ms
- Get Team: ะดะพะปะถะฝะพ ะฑััั โค 300ms
- Create PR: ะดะพะปะถะฝะพ ะฑััั โค 300ms
- Reassign: ะดะพะปะถะฝะพ ะฑััั โค 300ms
- Merge: ะดะพะปะถะฝะพ ะฑััั โค 300ms
- Get Reviews: ะดะพะปะถะฝะพ ะฑััั โค 300ms

**ะัะปะธ ะบะฐะบะพะน-ัะพ ะทะฐะฟัะพั > 300ms** โ ะฟัะพะฒะตัััะต ะธะฝะดะตะบัั ะะ ะธ ะพะฟัะธะผะธะทะฐัะธั ะทะฐะฟัะพัะพะฒ.

---

## ๐๏ธ ะกะบัะธะฝัะพั ะฝะฐัััะพะตะบ:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Collection Runner                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  Iterations: [20          ]             โ
โ  Delay:      [200] ms                   โ
โ  Delay between iterations: [0] ms      โ
โ                                         โ
โ  Selected Requests:                    โ
โ  โ Create Team                         โ
โ  โ Get Team                            โ
โ  โ Create Pull Request                 โ
โ  โ Reassign Reviewer                  โ
โ  โ Merge Pull Request                 โ
โ  โ Get User Reviews                    โ
โ                                         โ
โ  [Run AVITO PR System Load Test]       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ะะถะธะดะฐะตะผัะต ัะตะทัะปััะฐัั:

### ะฃัะฟะตัะฝัะน ัะตัั:
- โ **Success rate**: 100% (โฅ 99.9%)
- โ **Average response time**: ะฒัะต ะทะฐะฟัะพัั โค 300ms
- โ **Failed requests**: 0
- โ **RPS**: ~5 ะทะฐะฟัะพัะพะฒ/ัะตะบ

### ะัะปะธ ััะพ-ัะพ ะฝะต ัะฐะบ:

#### โ Success rate < 99.9%
- ะัะพะฒะตัััะต ะปะพะณะธ ัะตัะฒะตัะฐ
- ะัะพะฒะตัััะต ัะฝะธะบะฐะปัะฝะพััั ID (ะดะพะปะถะฝั ะฑััั ัะฝะธะบะฐะปัะฝัะผะธ)
- ะัะพะฒะตัััะต ะฟะพะดะบะปััะตะฝะธะต ะบ ะะ

#### โ Response time > 300ms
- ะัะพะฒะตัััะต ะธะฝะดะตะบัั ะะ: `EXPLAIN ANALYZE` ะดะปั ะผะตะดะปะตะฝะฝัั ะทะฐะฟัะพัะพะฒ
- ะัะพะฒะตัััะต ะฝะฐะณััะทะบั ะฝะฐ ัะตัะฒะตั
- ะัะพะฒะตัััะต ัะตัะตะฒัั ะทะฐะดะตัะถะบั

---

## ๐ ะะพะฝะธัะพัะธะฝะณ ะฒะพ ะฒัะตะผั ัะตััะฐ:

ะัะบัะพะนัะต ะฒ ะฑัะฐัะทะตัะต: **http://localhost:8080/metrics**

ะัะพะฒะตัััะต ะผะตััะธะบะธ:
- `http_request_duration_seconds` - ะฒัะตะผั ะพัะฒะตัะฐ
- `http_requests_total` - ะบะพะปะธัะตััะฒะพ ะทะฐะฟัะพัะพะฒ

---

## โ ะงะตะบ-ะปะธัั ะฟะตัะตะด ะทะฐะฟััะบะพะผ:

- [ ] ะกะตัะฒะตั ะทะฐะฟััะตะฝ (`http://localhost:8080`)
- [ ] ะะฐะทะฐ ะดะฐะฝะฝัั ะดะพัััะฟะฝะฐ
- [ ] ะะพะปะปะตะบัะธั ะธะผะฟะพััะธัะพะฒะฐะฝะฐ
- [ ] **Iterations = 20**
- [ ] **Delay = 200ms**
- [ ] ะัะต 6 ะทะฐะฟัะพัะพะฒ ะพัะผะตัะตะฝั โ
- [ ] ะะตััะธะบะธ ะดะพัััะฟะฝั ะฝะฐ `/metrics`

---

## ๐ ะัััััะน ััะฐัั:

1. ะัะบัะพะนัะต Runner: ะะพะปะปะตะบัะธั โ "Run collection"
2. ะฃััะฐะฝะพะฒะธัะต: **Iterations = 20**, **Delay = 200ms**
3. ะัะผะตัััะต ะฒัะต ะทะฐะฟัะพัั โ
4. ะะฐะถะผะธัะต **"Run"**
5. ะะพะถะดะธัะตัั ะทะฐะฒะตััะตะฝะธั
6. ะัะพะฒะตัััะต ัะตะทัะปััะฐัั:
   - Success rate โฅ 99.9%?
   - ะัะต response times โค 300ms?

**ะะพัะพะฒะพ! ๐**

