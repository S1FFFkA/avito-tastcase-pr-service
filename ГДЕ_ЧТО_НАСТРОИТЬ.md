# ๐ ะะดะต ััะพ ะฝะฐัััะฐะธะฒะฐัั ะฒ Postman (ะฟะพัะฐะณะพะฒะพ ั ะบะฐััะธะฝะบะฐะผะธ)

## โ RPS = 5 - ััะพ ะะ ะฟัะพ ะบะพะปะธัะตััะฒะพ ะฟะพะปัะทะพะฒะฐัะตะปะตะน!

**RPS (Requests Per Second)** = ะบะพะปะธัะตััะฒะพ **ะทะฐะฟัะพัะพะฒ ะฒ ัะตะบัะฝะดั**, ะฐ ะฝะต ะฟะพะปัะทะพะฒะฐัะตะปะตะน.

---

## ๐ฏ ะจะะ 1: ะัะบัะพะนัะต Runner

1. ะ Postman ะฝะฐะนะดะธัะต ะฒะฐัั ะบะพะปะปะตะบัะธั **"AVITO PR System Load Test"** (ัะปะตะฒะฐ)
2. ะะฐะถะผะธัะต ะฝะฐ **ััะธ ัะพัะบะธ** (...) ัะฟัะฐะฒะฐ ะพั ะฝะฐะทะฒะฐะฝะธั ะบะพะปะปะตะบัะธะธ
3. ะัะฑะตัะธัะต **"Run collection"**

**ะะะ**

1. ะะฐะถะผะธัะต ะฝะฐ ะบะพะปะปะตะบัะธั (ะพะดะธะฝ ะบะปะธะบ)
2. ะ ะฟัะฐะฒะพะน ัะฐััะธ ัะบัะฐะฝะฐ ะฝะฐะถะผะธัะต ะบะฝะพะฟะบั **"Run"**

---

## ๐ฏ ะจะะ 2: ะะดะต ะฝะฐัััะฐะธะฒะฐัั ะฟะฐัะฐะผะตััั

ะะพัะปะต ะพัะบัััะธั Runner ะฒั ัะฒะธะดะธัะต **ะดะฒะต ะฟะฐะฝะตะปะธ**:

### ะะตะฒะฐั ะฟะฐะฝะตะปั (ัะฟะธัะพะบ ะทะฐะฟัะพัะพะฒ):
- ะะดะตัั ะฒัะฑะธัะฐะตัะต, ะบะฐะบะธะต ะทะฐะฟัะพัั ะทะฐะฟััะบะฐัั
- ะัะผะตัะฐะตัะต ะณะฐะปะพัะบะฐะผะธ โ

### ะัะฐะฒะฐั ะฟะฐะฝะตะปั (ะฝะฐัััะพะนะบะธ):
- ะะดะตัั ะฝะฐัััะฐะธะฒะฐะตัะต ะฟะฐัะฐะผะตััั ะฝะฐะณััะทะบะธ

---

## โ๏ธ ะจะะ 3: ะะฐัััะพะนะบะธ ะฒ ะฟัะฐะฒะพะน ะฟะฐะฝะตะปะธ

ะ **ะฟัะฐะฒะพะน ะฟะฐะฝะตะปะธ** ะฝะฐะนะดะธัะต ัะตะบัะธั **"Run configuration"**:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Run configuration                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  Iterations                         โ
โ  [20]                               โ โ ะะะข ะขะฃะข!
โ                                     โ
โ  Delay                              โ
โ  [200] ms                           โ โ ะ ะะะข ะขะฃะข!
โ                                     โ
โ  Delay between iterations           โ
โ  [0] ms                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะงัะพ ััะฐะฒะธัั:

1. **Iterations** (ะัะตัะฐัะธะธ):
   - ะะพััะฐะฒััะต: `20`
   - ะญัะพ ะบะพะปะธัะตััะฒะพ ัะฐะท, ะบะพัะพัะพะต ะบะพะปะปะตะบัะธั ะฒัะฟะพะปะฝะธััั ะฟะพะปะฝะพัััั

2. **Delay** (ะะฐะดะตัะถะบะฐ ะผะตะถะดั ะทะฐะฟัะพัะฐะผะธ):
   - ะะพััะฐะฒััะต: `200`
   - ะะดะธะฝะธัะฐ ะธะทะผะตัะตะฝะธั: **ะผะธะปะปะธัะตะบัะฝะดั (ms)**
   - ะญัะพ ะทะฐะดะตัะถะบะฐ ะผะตะถะดั ะบะฐะถะดัะผ ะทะฐะฟัะพัะพะผ ะฒ ะบะพะปะปะตะบัะธะธ

3. **Delay between iterations**:
   - ะะพััะฐะฒััะต: `0`
   - ะญัะพ ะทะฐะดะตัะถะบะฐ ะผะตะถะดั ะฟะพะปะฝัะผะธ ะฟัะพัะพะดะฐะผะธ ะบะพะปะปะตะบัะธะธ

---

## โ ะจะะ 4: ะัะฑะพั ะทะฐะฟัะพัะพะฒ (ะปะตะฒะฐั ะฟะฐะฝะตะปั)

ะ **ะปะตะฒะพะน ะฟะฐะฝะตะปะธ** ะพัะผะตัััะต ะณะฐะปะพัะบะฐะผะธ โ:

```
โ Create Team
โ Get Team
โ Create Pull Request
โ Reassign Reviewer
โ Merge Pull Request
โ Get User Reviews
```

---

## ๐จ ะะะะะะะะ: 409 ะพัะธะฑะบะธ (TEAM_EXISTS, PR_EXISTS)

### ะะพัะตะผั ะฒะพะทะฝะธะบะฐัั:
409 ะพัะธะฑะบะธ ะพะทะฝะฐัะฐัั, ััะพ ะบะพะผะฐะฝะดะฐ ะธะปะธ PR **ัะถะต ัััะตััะฒัะตั** ะฒ ะฑะฐะทะต ะดะฐะฝะฝัั.

ะญัะพ ะฟัะพะธััะพะดะธั, ะตัะปะธ:
- ะั ัะถะต ะทะฐะฟััะบะฐะปะธ ัะตัั ัะฐะฝััะต
- ID ะฝะต ัะฝะธะบะฐะปัะฝัะต

### โ ะะะจะะะะ:

#### ะะฐัะธะฐะฝั 1: ะัะธััะธัั ะฑะฐะทั ะดะฐะฝะฝัั ะฟะตัะตะด ัะตััะพะผ
```sql
TRUNCATE TABLE reviewers, pull_requests, users, teams CASCADE;
```

#### ะะฐัะธะฐะฝั 2: ะัะฟะพะปัะทะพะฒะฐัั ัะฝะธะบะฐะปัะฝัะต ID (ัะถะต ะฝะฐัััะพะตะฝะพ)
ะะพะปะปะตะบัะธั ัะถะต ะณะตะฝะตัะธััะตั ัะฝะธะบะฐะปัะฝัะต ID ัะตัะตะท `{{run_id}}` ะธ `{{team_index}}`.

**ะัะพะฒะตัััะต**, ััะพ ะฒ ะทะฐะฟัะพัะฐั ะธัะฟะพะปัะทััััั ะฟะตัะตะผะตะฝะฝัะต:
- `load-test-team-{{run_id}}-{{team_index}}` (ะฝะต ะฟัะพััะพ `load-test-team-1`)
- `pr-load-{{pr_id}}` (ะฝะต ะฟัะพััะพ `pr-load-1`)

---

## ๐ ะจะะ 5: ะะฐะบ ะฟะพัะผะพััะตัั ะพััะตั ะธ ะณัะฐัะธะบะธ

### ะะพัะปะต ะทะฐะฒะตััะตะฝะธั ัะตััะฐ:

1. **ะ Runner** (ะฟะพัะปะต ะทะฐะฒะตััะตะฝะธั):
   - ะะฝะธะทั ัะบัะฐะฝะฐ ัะฒะธะดะธัะต **"Summary"** (ะกะฒะพะดะบะฐ)
   - ะขะฐะผ ะฑัะดะตั:
     - Total requests (ะฒัะตะณะพ ะทะฐะฟัะพัะพะฒ)
     - Failed requests (ะฝะตัะดะฐัะฝัั)
     - Average response time (ััะตะดะฝะตะต ะฒัะตะผั)
     - Min/Max response time

2. **ะะตัะฐะปัะฝะฐั ััะฐัะธััะธะบะฐ ะฟะพ ะบะฐะถะดะพะผั ะทะฐะฟัะพัั**:
   - ะัะพะบัััะธัะต ะฒะฝะธะท ะฒ Runner
   - ะะปั ะบะฐะถะดะพะณะพ ะทะฐะฟัะพัะฐ ัะฒะธะดะธัะต:
     - ะะพะปะธัะตััะฒะพ ััะฟะตัะฝัั/ะฝะตัะดะฐัะฝัั
     - ะกัะตะดะฝะตะต ะฒัะตะผั ะพัะฒะตัะฐ
     - ะัะฐัะธะบ ะฒัะตะผะตะฝะธ ะพัะฒะตัะฐ

3. **ะญะบัะฟะพัั ัะตะทัะปััะฐัะพะฒ**:
   - ะ Runner ะฝะฐะถะผะธัะต ะบะฝะพะฟะบั **"Export Results"** (ะฒะฝะธะทั ัะฟัะฐะฒะฐ)
   - ะัะฑะตัะธัะต ัะพัะผะฐั: **JSON** ะธะปะธ **CSV**
   - ะกะพััะฐะฝะธัะต ัะฐะนะป

---

## ๐ ะจะะ 6: ะะฐะบ ะฟะพะบะฐะทะฐัั ะณัะฐัะธะบ/ะพััะตั

### ะกะฟะพัะพะฑ 1: ะกะบัะธะฝัะพั ะธะท Postman

1. ะะพัะปะต ะทะฐะฒะตััะตะฝะธั ัะตััะฐ ะฒ Runner
2. ะกะดะตะปะฐะนัะต ัะบัะธะฝัะพั ัะบัะฐะฝะฐ ั ัะตะทัะปััะฐัะฐะผะธ
3. ะะปะธ ะฝะฐะถะผะธัะต **"Export Results"** โ ัะพััะฐะฝะธัะต JSON

### ะกะฟะพัะพะฑ 2: ะญะบัะฟะพัั ะฒ JSON

1. ะ Runner ะฝะฐะถะผะธัะต **"Export Results"**
2. ะัะฑะตัะธัะต **JSON**
3. ะกะพััะฐะฝะธัะต ัะฐะนะป
4. ะัะบัะพะนัะต ัะฐะนะป ะฒ ัะตะบััะพะฒะพะผ ัะตะดะฐะบัะพัะต ะธะปะธ ะพัะฟัะฐะฒััะต ะผะฝะต

### ะกะฟะพัะพะฑ 3: ะกะบะพะฟะธัะพะฒะฐัั ัะตะบัั ัะตะทัะปััะฐัะพะฒ

1. ะ Runner ะฟัะพะบัััะธัะต ะดะพ **"Summary"**
2. ะกะบะพะฟะธััะนัะต ัะตะบัั ัะตะทัะปััะฐัะพะฒ
3. ะััะฐะฒััะต ััะดะฐ

---

## ๐ ะงัะพ ะฟัะพะฒะตัะธัั ะฒ ะพััะตัะต:

### โ ะฃัะฟะตัะฝัะน ัะตัั:
- **Total requests**: 120 (20 ะธัะตัะฐัะธะน ร 6 ะทะฐะฟัะพัะพะฒ)
- **Failed requests**: 0 ะธะปะธ 1
- **Success rate**: โฅ 99.9%
- **Average response time**: ะฒัะต ะทะฐะฟัะพัั โค 300ms

### โ ะัะปะธ ะตััั 409 ะพัะธะฑะบะธ:
- ะัะพะฒะตัััะต, ััะพ ID ัะฝะธะบะฐะปัะฝัะต
- ะัะธััะธัะต ะะ ะฟะตัะตะด ัะตััะพะผ
- ะะปะธ ะธะณะฝะพัะธััะนัะต 409 (ััะพ ะพะถะธะดะฐะตะผะพ ะฟัะธ ะฟะพะฒัะพัะฝะพะผ ะทะฐะฟััะบะต)

---

## ๐ ะัะธะผะตั ะฟัะฐะฒะธะปัะฝัั ะฝะฐัััะพะตะบ:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Collection Runner                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ะะตะฒะฐั ะฟะฐะฝะตะปั:                          โ
โ  โ Create Team                          โ
โ  โ Get Team                             โ
โ  โ Create Pull Request                 โ
โ  โ Reassign Reviewer                   โ
โ  โ Merge Pull Request                  โ
โ  โ Get User Reviews                     โ
โ                                         โ
โ  ะัะฐะฒะฐั ะฟะฐะฝะตะปั:                         โ
โ  Iterations: [20]                       โ
โ  Delay: [200] ms                        โ
โ  Delay between iterations: [0] ms       โ
โ                                         โ
โ  [Run AVITO PR System Load Test]       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ฏ ะัะพะณะพะฒะฐั ะธะฝััััะบัะธั:

1. **ะัะบัะพะนัะต Runner**: ะะพะปะปะตะบัะธั โ "Run collection"
2. **ะัะฐะฒะฐั ะฟะฐะฝะตะปั**: Iterations = 20, Delay = 200ms
3. **ะะตะฒะฐั ะฟะฐะฝะตะปั**: ะัะผะตัััะต ะฒัะต 6 ะทะฐะฟัะพัะพะฒ โ
4. **ะะฐะถะผะธัะต "Run"**
5. **ะะพะถะดะธัะตัั ะทะฐะฒะตััะตะฝะธั**
6. **ะะพัะผะพััะธัะต ัะตะทัะปััะฐัั** ะฒะฝะธะทั ัะบัะฐะฝะฐ
7. **ะญะบัะฟะพััะธััะนัะต** ะตัะปะธ ะฝัะถะฝะพ: "Export Results"

---

## ๐ก ะัะปะธ ะฒัั ะตัั ะฝะต ะฟะพะฝััะฝะพ:

**ะัะธัะปะธัะต ัะบัะธะฝัะพั** ัะบัะฐะฝะฐ Runner, ะธ ั ะฟะพะบะฐะถั ัะพัะฝะพ, ะบัะดะฐ ะฝะฐะถะธะผะฐัั!

ะะปะธ ะพะฟะธัะธัะต, ััะพ ะธะผะตะฝะฝะพ ะฒั ะฒะธะดะธัะต ะฝะฐ ัะบัะฐะฝะต, ะธ ั ะฟะพะผะพะณั ัะฐะทะพะฑัะฐัััั.

