# ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Postman –¥–ª—è –∑–∞–¥–∞–Ω–Ω—ã—Ö SLI

## üìä –¶–µ–ª–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
- **–û–±—ä—ë–º –¥–∞–Ω–Ω—ã—Ö**: 20 –∫–æ–º–∞–Ω–¥, 200 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **RPS (Requests Per Second)**: 5
- **SLI –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞**: 300 –º—Å
- **SLI —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏**: 99.9%

---

## üéØ –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Runner –≤ Postman

### –û—Ç–∫—Ä–æ–π—Ç–µ Runner:
1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–æ–ª–ª–µ–∫—Ü–∏—é **"AVITO PR System Load Test"** ‚Üí **"..."** ‚Üí **"Run collection"**

### –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

#### **Iterations (–ò—Ç–µ—Ä–∞—Ü–∏–∏)**
```
–ó–Ω–∞—á–µ–Ω–∏–µ: 20
```
- –≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç 20 –∫–æ–º–∞–Ω–¥ (–ø–æ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–µ –Ω–∞ –∏—Ç–µ—Ä–∞—Ü–∏—é)
- –ö–∞–∂–¥–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç –≤—Å–µ 6 –∑–∞–ø—Ä–æ—Å–æ–≤

#### **Delay (–ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏)**
```
–ó–Ω–∞—á–µ–Ω–∏–µ: 200 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥
```
- **–†–∞—Å—á—ë—Ç**: –î–ª—è RPS = 5 –Ω—É–∂–Ω–æ 5 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
- 1000ms / 5 = 200ms –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏—Ç ~5 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É

#### **Delay between iterations (–ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∏—Ç–µ—Ä–∞—Ü–∏—è–º–∏)**
```
–ó–Ω–∞—á–µ–Ω–∏–µ: 0 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥
```
- –û—Å—Ç–∞–≤–ª—è–µ–º 0 –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏

---

## üìù –®–∞–≥ 2: –í—ã–±–æ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤

–û—Ç–º–µ—Ç—å—Ç–µ –≥–∞–ª–æ—á–∫–∞–º–∏ ‚úÖ **–í–°–ï** –∑–∞–ø—Ä–æ—Å—ã:
- ‚úÖ Create Team
- ‚úÖ Get Team
- ‚úÖ Create Pull Request
- ‚úÖ Reassign Reviewer
- ‚úÖ Merge Pull Request
- ‚úÖ Get User Reviews

**–ü–æ—Ä—è–¥–æ–∫ –≤–∞–∂–µ–Ω!** –û—Å—Ç–∞–≤—å—Ç–µ –∫–∞–∫ –µ—Å—Ç—å (Create Team –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–µ—Ä–≤—ã–º).

---

## üî¢ –®–∞–≥ 3: –†–∞—Å—á—ë—Ç –æ–±—ä—ë–º–∞ –¥–∞–Ω–Ω—ã—Ö

### –ß—Ç–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ:
- **20 –∫–æ–º–∞–Ω–¥** (–ø–æ –æ–¥–Ω–æ–π –Ω–∞ –∏—Ç–µ—Ä–∞—Ü–∏—é)
- **100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** (–ø–æ 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥–µ)
- **20 PR** (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ –∏—Ç–µ—Ä–∞—Ü–∏—é)

### –î–ª—è 200 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
–ï—Å–ª–∏ –Ω—É–∂–Ω–æ 200 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∏–∑–º–µ–Ω–∏—Ç–µ –≤ –∑–∞–ø—Ä–æ—Å–µ **"Create Team"** –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ members —Å 5 –Ω–∞ 10:
- 20 –∫–æ–º–∞–Ω–¥ √ó 10 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π = 200 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üìä –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ SLI –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∞

### –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Runner –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

#### ‚úÖ SLI —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ (99.9%)
–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö Runner:
1. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ **"Summary"**
2. –ù–∞–π–¥–∏—Ç–µ **"Total requests"** –∏ **"Failed requests"**
3. **–§–æ—Ä–º—É–ª–∞**: `(Total - Failed) / Total √ó 100%`
4. **–î–æ–ª–∂–Ω–æ –±—ã—Ç—å**: ‚â• 99.9%

**–ü—Ä–∏–º–µ—Ä:**
- Total: 120 –∑–∞–ø—Ä–æ—Å–æ–≤ (20 –∏—Ç–µ—Ä–∞—Ü–∏–π √ó 6 –∑–∞–ø—Ä–æ—Å–æ–≤)
- Failed: 0 –∑–∞–ø—Ä–æ—Å–æ–≤
- Success rate: 100% ‚úÖ (–±–æ–ª—å—à–µ 99.9%)

#### ‚è±Ô∏è SLI –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞ (300 –º—Å)
–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö Runner:
1. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ **"Average response time"**
2. **–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å**: ‚â§ 300 –º—Å

**–ü—Ä–∏–º–µ—Ä:**
- Create Team: 150ms ‚úÖ
- Get Team: 80ms ‚úÖ
- Create PR: 200ms ‚úÖ
- Reassign: 180ms ‚úÖ
- Merge: 120ms ‚úÖ
- Get Reviews: 90ms ‚úÖ

---

## üéõÔ∏è –¢–æ—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Runner:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Collection Runner Settings          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Iterations:              20         ‚îÇ
‚îÇ Delay:                   200 ms    ‚îÇ
‚îÇ Delay between iterations: 0 ms      ‚îÇ
‚îÇ Data:                    (none)     ‚îÇ
‚îÇ Run order:               Sequential ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìà –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –¢–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (20 –∫–æ–º–∞–Ω–¥)
```
Iterations: 20
Delay: 200ms
–ó–∞–ø—Ä–æ—Å—ã: ‚úÖ Create Team (—Ç–æ–ª—å–∫–æ —ç—Ç–æ—Ç)
–†–µ–∑—É–ª—å—Ç–∞—Ç: 20 –∫–æ–º–∞–Ω–¥, 100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª (20 –∫–æ–º–∞–Ω–¥ + PR)
```
Iterations: 20
Delay: 200ms
–ó–∞–ø—Ä–æ—Å—ã: ‚úÖ –í—Å–µ 6 –∑–∞–ø—Ä–æ—Å–æ–≤
–†–µ–∑—É–ª—å—Ç–∞—Ç: 20 –∫–æ–º–∞–Ω–¥, 100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, 20 PR
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π –æ–±—ä—ë–º (200 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
–ò–∑–º–µ–Ω–∏—Ç–µ –≤ –∑–∞–ø—Ä–æ—Å–µ "Create Team" –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ members:
```json
"members": [
  // ... –¥–æ–±–∞–≤—å—Ç–µ 10 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤–º–µ—Å—Ç–æ 5
  {"user_id": "user-{{run_id}}-{{team_index}}-1", ...},
  {"user_id": "user-{{run_id}}-{{team_index}}-2", ...},
  // ... –¥–æ 10
]
```

---

## üîç –®–∞–≥ 5: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–æ –≤—Ä–µ–º—è —Ç–µ—Å—Ç–∞

### –û—Ç–∫—Ä–æ–π—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ Prometheus:
```
http://localhost:8080/metrics
```

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
- `http_request_duration_seconds` - –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
- `http_requests_total` - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- `reviewer_load_distribution_bucket` - —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Prometheus:
```promql
# –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
rate(http_request_duration_seconds_sum[1m]) / rate(http_request_duration_seconds_count[1m])

# –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
rate(http_requests_total{status="200"}[1m]) / rate(http_requests_total[1m]) * 100
```

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º:

- [ ] –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ `http://localhost:8080`
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞
- [ ] –ö–æ–ª–ª–µ–∫—Ü–∏—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞
- [ ] Iterations = 20
- [ ] Delay = 200ms
- [ ] –í—Å–µ 6 –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç–º–µ—á–µ–Ω—ã ‚úÖ
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ `/metrics`

---

## üìä –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:

### ‚úÖ –£—Å–ø–µ—à–Ω—ã–π —Ç–µ—Å—Ç:
- **Success rate**: ‚â• 99.9%
- **Average response time**: ‚â§ 300ms –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **Failed requests**: 0 –∏–ª–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ

### ‚ùå –ü—Ä–æ–±–ª–µ–º—ã:
- **Success rate < 99.9%**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞, –≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ–±–ª–µ–º—ã —Å –ë–î
- **Response time > 300ms**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –ë–î, –≤–æ–∑–º–æ–∂–Ω–æ –Ω—É–∂–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- **–ú–Ω–æ–≥–æ failed requests**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å ID, –≤–æ–∑–º–æ–∂–Ω–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã

---

## üéØ –ò—Ç–æ–≥–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–∫–æ–ø–∏—Ä—É–π—Ç–µ):

```
Runner Settings:
‚îú‚îÄ Iterations: 20
‚îú‚îÄ Delay: 200 ms
‚îú‚îÄ Delay between iterations: 0 ms
‚îî‚îÄ Selected requests: –í—Å–µ 6 ‚úÖ

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
‚îú‚îÄ –ö–æ–º–∞–Ω–¥ —Å–æ–∑–¥–∞–Ω–æ: 20
‚îú‚îÄ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: 100 (–∏–ª–∏ 200 –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ members)
‚îú‚îÄ PR —Å–æ–∑–¥–∞–Ω–æ: 20
‚îú‚îÄ RPS: ~5 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫
‚îú‚îÄ Success rate: ‚â• 99.9%
‚îî‚îÄ Response time: ‚â§ 300ms
```

---

**–ì–æ—Ç–æ–≤–æ! –ó–∞–ø—É—Å–∫–∞–π—Ç–µ Runner —Å —ç—Ç–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏! üöÄ**

